#!/bin/bash
echo "Starting backup proccess..."
# docker-compose exec postgres sh -c "pg_dump -h 35.223.84.108 -U postgres -d dojot_auth -O -c -Fc> /tmp/dojot_auth.sql"
# echo "Postgres: dojot_auth database has been dumped"
# docker-compose exec postgres sh -c "pg_dump -h 35.223.84.108 -U postgres -d dojot_devm -O -c -Fc > /tmp/dojot_devm.sql"
# echo "Postgres: dojot_devm database has been dumped"
# docker-compose exec postgres sh -c "pg_dump -h 35.223.84.108 -U postgres -d dojot_imgm -O -c -Fc> /tmp/dojot_imgm.sql"
# echo "Postgres: dojot_imgm database has been dumped"
docker-compose exec mongodb sh -c "mongodump --quiet --host=35.223.84.108 --port=27017 --out=/tmp/dumps"
echo "MongoDB: all databases have been dumped"
echo "Backup proccess finished!"